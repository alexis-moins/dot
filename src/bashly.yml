name: dot
help: dotfiles manager
version: 0.1.0

environment_variables:
  - name: EDITOR
    help: Editor to use for interactive commands
    default: vim

  - name: DOT_INSTALL_DIR
    help: Directory where the repository was cloned
    default: ${HOME}/.dot

  - name: DOTFILES_DIR
    help: Directory containing your dotfiles
    default: ${HOME}/dotfiles

dependencies:
  - git
  - gum
  - stow

commands:
  - name: help
    help: Show help about a command
    args:
    - name: command
      help: Help subject

  - name: clone
    help: Clone a remote git dotfiles repository
    group: Dotfiles

    args:
      - name: repository
        help: "Remote repository to clone (FORMAT: <username>/<repository>)"
        required: true

    examples:
      - dot clone alexis-moins/dotfiles

  - name: link
    help: Create a link to the dot script

    args:
      - name: path
        help: Path to the link
        default: ${HOME}/.local/bin

    flags:
      - short: -c
        long: --copy
        help: Copy the script instead of creating a symbolic link

    examples:
      - dot link -c
      - dot link /usr/bin

  - name: unlink
    help: Remove the link to the dot script

    args:
      - name: path
        help: Path to the link
        default: ${HOME}/.local/bin

    examples:
      - dot unlink

  - name: update
    help: Update dot to the latest version

    examples:
      - dot update

  - name: env
    help: Show environment information

    examples:
      - dot env

  - name: edit
    help: Edit your dotfiles
    group: Dotfiles

    filters:
      - dotfiles_is_healthy

    examples:
      - dot edit

  - name: sync
    help: Update your dotfiles to the latest commit
    group: Dotfiles

    filters:
      - dotfiles_is_healthy

    examples:
      - dot sync

  - name: install
    help: Install dotfiles using symbolic links
    group: Dotfiles

    filters:
      - dotfiles_is_healthy

    examples:
      - dot install

  - name: clear
    help: Remove symbolic links from ${HOME}
    group: Dotfiles

    filters:
      - dotfiles_is_healthy

    examples:
      - dot clear

  - name: status
    help: Show the status of your dotfiles
    alias: st
    group: Dotfiles

    filters:
      - dotfiles_is_healthy

    examples:
      - dot status

  - name: dir
    help: Show dotfiles directory

    examples:
      - dot dir
      - cd $(dot dir)

  - name: stage
    help: Stage files for committing later
    alias: add
    group: Dotfiles

    filters:
      - dotfiles_is_healthy

    examples:
      - dot stage

  - name: restore
    help: Unstage files
    alias: [unstage, rs]
    group: Dotfiles

    filters:
      - dotfiles_is_healthy

    examples:
      - dot restore

  - name: list
    help: List files from your dotfiles
    alias: ls
    group: Dotfiles

    filters:
      - dotfiles_is_healthy

    examples:
      - dot list

  - name: diff
    help: Show diff with last commit
    group: Dotfiles

    flags:
      - short: -p
        long: --pick
        help: Interactively pick files to diff

      - short: -s
        long: --staged
        help: Only show diff for staged files

    filters:
      - dotfiles_is_healthy

    examples:
      - dot diff
      - dot diff --all
      - dot diff --staged
